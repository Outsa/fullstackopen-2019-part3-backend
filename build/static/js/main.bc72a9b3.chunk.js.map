{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","filterValue","filterChangeFunction","react_default","a","createElement","Fragment","value","onChange","PersonForm","submitFunction","newName","nameChangeFunction","newNumber","numberChangeFunction","onSubmit","type","Person","person","deletePersonFunction","name","number","onClick","id","Persons","_ref2","persons","className","filter","toLowerCase","includes","map","Persons_Person","key","Notification","message","messageClass","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilterValue","_useState9","_useState10","setMessage","_useState11","_useState12","setMessageClass","useEffect","personService","initialPersons","clearFields","setNotificationMessage","notMessage","notMessageClass","setTimeout","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","window","confirm","initialPerson","find","updatedPerson","objectSpread","returnedPerson","catch","error","components_Persons","personName","res","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.bc72a9b3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filterValue, filterChangeFunction }) => {\r\n    return (\r\n        <>\r\n            <h3>rajaa haettavia</h3>\r\n            <div>\r\n                nimi: <input value={filterValue} onChange={filterChangeFunction} />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ submitFunction, newName, nameChangeFunction, newNumber, numberChangeFunction }) => {\r\n    return (\r\n        <form onSubmit={submitFunction}>\r\n            <h3>lisää uusi</h3>\r\n            <div>\r\n                nimi: <input value={newName} onChange={nameChangeFunction} />\r\n            </div>\r\n            <div>\r\n                numero: <input value={newNumber} onChange={numberChangeFunction} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">lisää</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ person, deletePersonFunction }) => {\r\n    return (\r\n        <li>\r\n            {person.name} {person.number} <button onClick={() => {\r\n                deletePersonFunction(person.id, person.name)\r\n            }} >\r\n                delete\r\n            </button >\r\n        </li>\r\n    )\r\n}\r\n\r\nconst Persons = ({ persons, filterValue, deletePersonFunction }) => {\r\n    const rows = () => persons.filter(person => person.name.toLowerCase().includes(filterValue)).map(person =>\r\n        <Person\r\n            key={person.id}\r\n            person={person}\r\n            deletePersonFunction={deletePersonFunction}\r\n        />)\r\n    return (\r\n        <ul className=\"personList\">\r\n            {rows()}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message, messageClass }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={messageClass}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","import './index.css'\r\nimport React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [filterValue, setFilterValue] = useState('')\r\n    const [message, setMessage] = useState('')\r\n    const [messageClass, setMessageClass] = useState('')\r\n\r\n    useEffect(() => {\r\n        personService\r\n            .getAll()\r\n            .then(initialPersons => {\r\n                setPersons(initialPersons)\r\n            })\r\n    }, [])\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n        if (persons.map(person => person.name).includes(newName)) {\r\n            const result = window.confirm(`${newName} on jo puhelinluettelossa, haluatko korvata vanhan numeron uudella?`);\r\n            if (result) {\r\n                const initialPerson = persons.find(person => person.name === newName)\r\n                const updatedPerson = { ...initialPerson, number: newNumber }\r\n                personService\r\n                    .update(updatedPerson.id, updatedPerson)\r\n                    .then(returnedPerson => {\r\n                        setNotificationMessage(`${newName} päivitetty`, \"message\")\r\n                        setPersons(persons.map(person => person.id !== updatedPerson.id ? person : returnedPerson))\r\n                    }).catch(error => {\r\n                        setNotificationMessage(`Henkilö ${newName} on jo poistettu`, \"error\")\r\n                        setPersons(persons.filter(person => person.id !== initialPerson.id))\r\n                    })\r\n                clearFields()\r\n            }\r\n        }\r\n        else {\r\n            const personObject = {\r\n                name: newName,\r\n                number: newNumber\r\n            }\r\n\r\n            personService\r\n                .create(personObject)\r\n                .then(returnedPerson => {\r\n                    setPersons(persons.concat(returnedPerson))\r\n                    clearFields()\r\n                })\r\n            setNotificationMessage(`${newName} lisätty`, \"message\")\r\n        }\r\n    }\r\n\r\n    const clearFields = () => {\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n    const setNotificationMessage = (notMessage, notMessageClass) => {\r\n        setMessage(notMessage)\r\n        setMessageClass(notMessageClass)\r\n        setTimeout(() => {\r\n            setMessage(null)\r\n            setMessageClass(null)\r\n        }, 5000)\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleFiltering = (event) => {\r\n        setFilterValue(event.target.value)\r\n    }\r\n\r\n    const handleDeletePerson = (id, personName) => {\r\n        const result = window.confirm(`Haluatko varmasti poistaa ${personName}?`);\r\n        if (result) {\r\n            personService.deletePerson(id)\r\n                .then(res => {\r\n                    setNotificationMessage(`${personName} poistettu`, \"message\")\r\n                    setPersons(persons.filter(person => person.id !== id))\r\n                })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Puhelinluettelo</h2>\r\n            <Notification message={message} messageClass={messageClass} />\r\n            <Filter filterValue={filterValue} filterChangeFunction={handleFiltering} />\r\n\r\n            <h2>Numerot</h2>\r\n            {<PersonForm submitFunction={addPerson} newName={newName} nameChangeFunction={handleNameChange}\r\n                newNumber={newNumber} numberChangeFunction={handleNumberChange} />}\r\n\r\n            <Persons persons={persons} filterValue={filterValue} deletePersonFunction={handleDeletePerson} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}