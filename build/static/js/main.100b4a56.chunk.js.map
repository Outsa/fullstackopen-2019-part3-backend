{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","filterValue","filterChangeFunction","react_default","a","createElement","Fragment","value","onChange","PersonForm","submitFunction","newName","nameChangeFunction","newNumber","numberChangeFunction","onSubmit","type","Person","person","deletePersonFunction","name","number","onClick","id","Persons","_ref2","persons","className","filter","toLowerCase","includes","map","Persons_Person","key","Notification","message","messageClass","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilterValue","_useState9","_useState10","setMessage","_useState11","_useState12","setMessageClass","useEffect","personService","initialPersons","clearFields","setNotificationMessage","notMessage","notMessageClass","setTimeout","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","window","confirm","initialPerson","find","updatedPerson","objectSpread","returnedPerson","catch","error","components_Persons","personName","res","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.100b4a56.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filterValue, filterChangeFunction }) => {\n    return (\n        <>\n            <h3>rajaa haettavia</h3>\n            <div>\n                nimi: <input value={filterValue} onChange={filterChangeFunction} />\n            </div>\n        </>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ submitFunction, newName, nameChangeFunction, newNumber, numberChangeFunction }) => {\n    return (\n        <form onSubmit={submitFunction}>\n            <h3>lisää uusi</h3>\n            <div>\n                nimi: <input value={newName} onChange={nameChangeFunction} />\n            </div>\n            <div>\n                numero: <input value={newNumber} onChange={numberChangeFunction} />\n            </div>\n            <div>\n                <button type=\"submit\">lisää</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person, deletePersonFunction }) => {\n    return (\n        <li>\n            {person.name} {person.number} <button onClick={() => {\n                deletePersonFunction(person.id, person.name)\n            }} >\n                delete\n            </button >\n        </li>\n    )\n}\n\nconst Persons = ({ persons, filterValue, deletePersonFunction }) => {\n    const rows = () => persons.filter(person => person.name.toLowerCase().includes(filterValue)).map(person =>\n        <Person\n            key={person.id}\n            person={person}\n            deletePersonFunction={deletePersonFunction}\n        />)\n    return (\n        <ul className=\"personList\">\n            {rows()}\n        </ul>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message, messageClass }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={messageClass}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deletePerson }","import './index.css'\nimport React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filterValue, setFilterValue] = useState('')\n    const [message, setMessage] = useState('')\n    const [messageClass, setMessageClass] = useState('')\n\n    useEffect(() => {\n        personService\n            .getAll()\n            .then(initialPersons => {\n                setPersons(initialPersons)\n            })\n    }, [])\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        if (persons.map(person => person.name).includes(newName)) {\n            const result = window.confirm(`${newName} on jo puhelinluettelossa, haluatko korvata vanhan numeron uudella?`);\n            if (result) {\n                const initialPerson = persons.find(person => person.name === newName)\n                const updatedPerson = { ...initialPerson, number: newNumber }\n                personService\n                    .update(updatedPerson.id, updatedPerson)\n                    .then(returnedPerson => {\n                        setNotificationMessage(`${newName} päivitetty`, \"message\")\n                        setPersons(persons.map(person => person.id !== updatedPerson.id ? person : returnedPerson))\n                    }).catch(error => {\n                        setNotificationMessage(`Henkilö ${newName} on jo poistettu`, \"error\")\n                        setPersons(persons.filter(person => person.id !== initialPerson.id))\n                    })\n                clearFields()\n            }\n        }\n        else {\n            const personObject = {\n                name: newName,\n                number: newNumber\n            }\n\n            personService\n                .create(personObject)\n                .then(returnedPerson => {\n                    setPersons(persons.concat(returnedPerson))\n                    clearFields()\n                    setNotificationMessage(`${newName} lisätty`, \"message\")\n                })\n                .catch(error => {\n                    setNotificationMessage(`${error.response.data.error}`, \"error\")\n                })\n        }\n    }\n\n    const clearFields = () => {\n        setNewName('')\n        setNewNumber('')\n    }\n\n    const setNotificationMessage = (notMessage, notMessageClass) => {\n        setMessage(notMessage)\n        setMessageClass(notMessageClass)\n        setTimeout(() => {\n            setMessage(null)\n            setMessageClass(null)\n        }, 5000)\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleFiltering = (event) => {\n        setFilterValue(event.target.value)\n    }\n\n    const handleDeletePerson = (id, personName) => {\n        const result = window.confirm(`Haluatko varmasti poistaa ${personName}?`);\n        if (result) {\n            personService.deletePerson(id)\n                .then(res => {\n                    setNotificationMessage(`${personName} poistettu`, \"message\")\n                    setPersons(persons.filter(person => person.id !== id))\n                })\n        }\n    }\n\n    return (\n        <div>\n            <h2>Puhelinluettelo</h2>\n            <Notification message={message} messageClass={messageClass} />\n            <Filter filterValue={filterValue} filterChangeFunction={handleFiltering} />\n\n            <h2>Numerot</h2>\n            {<PersonForm submitFunction={addPerson} newName={newName} nameChangeFunction={handleNameChange}\n                newNumber={newNumber} numberChangeFunction={handleNumberChange} />}\n\n            <Persons persons={persons} filterValue={filterValue} deletePersonFunction={handleDeletePerson} />\n        </div>\n    )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}